<!DOCTYPE html>
<html ng-app="myApp">

<head>
    <title>{{windowTitle}} - MyMedia</title>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="content/libs/fontAwesome/css/font-awesome.min.css" />
    <link rel="stylesheet" href="node_modules/ng-tags-input/build/ng-tags-input.min.css" />
    <link rel="stylesheet" href="node_modules/ng-tags-input/build/ng-tags-input.bootstrap.min.css" />
    <link rel="stylesheet" href="content/styles/style.css" />
</head>

<body ng-controller="mainController" id="bootstrap-overrides" class="">
    <div class="supreme-container">
        <nav class="navigation-bar">
            <div class="form-inline">
                <div class="btn-group">
                    <a class="btn btn-default" ng-click="navigateBack()">&lt;</a>
                    <a class="btn btn-default" ng-click="navigateForward()">&gt;</a>
                </div>

                <div class="btn-group">
                    <a class="btn btn-default" href="#/stars">
                        <i class="fa fa-users" aria-hidden="true"></i> Stars
                    </a>
                    <a class="btn btn-default" href="#/datafeeds">
                        <i class="fa fa-cloud" aria-hidden="true"></i> Data feeds
                    </a>
                    <a class="btn btn-default" ng-click="mergeWindows()">Windows</a>
                </div>

                <input type="text" class="form-control" placeholder="Search">
                <a class="btn btn-default right" href="#/settings">
                    <i class="fa fa-cogs" aria-hidden="true"></i> Settings
                </a>
            </div>
        </nav>

        <div>
            <div uib-alert ng-repeat="alert in alerts" ng-class="'alert-' + (alert.type || 'warning')" close="alerts.splice($index, 1)">{{alert.message}}</div>
        </div>
        <div class="myview" ng-view></div>
    </div>

    <script>
        window.$ = window.jQuery = require('./node_modules/jquery/dist/jquery.min.js');
        window._ = require('lodash');
        window.fs = require('fs');
        window.path = require('path');
        window.Tether = require('tether');

        require('bootstrap');
        require('angular');
        require('angular-route');
        require('angular-animate');
        require('angular-sanitize');
        require('angular-files-drop');
        require('angular-modal-service');
        require('ng-tags-input');
        require('./node_modules/angular-ui-bootstrap/dist/ui-bootstrap-tpls.js');

        require('./renderer.js');
        require('./app/contextMenu.js');

        require('./app/app.js');

        // const remote = require('electron').remote;
        // const BrowserWindow = remote.BrowserWindow;

        // var win = remote.getCurrentWindow();
        // var dat = new Date().getTime();

        // win.on('resize', function (e) {

            // setTimeout(function () {
            //     if ((new Date().getTime() - dat > 200)) {
            //         console.log('resize');

            //         dat = new Date().getTime();
            //         var parentWin = BrowserWindow.getFocusedWindow();
            //         var pos = parentWin.getPosition();
            //         var size = parentWin.getSize();
            //         var max = parentWin.isMaximized();

            //         angular.forEach(BrowserWindow.getAllWindows(), win => {
            //             if (win.isFocused() == false) {
            //                 win.setPosition(pos[0], pos[1]);
            //                 win.setSize(size[0], size[1]);
            //                 if (max) {
            //                     win.maximize();
            //                 }
            //             }
            //         })
            //     }
            // }, 300);

        // });

        // win.on('maximize', function (e) {
        //     console.log('maximize');
        // });

        // win.on('unmaximize', function (e) {
        //     console.log('unmaximize');
        // });

        // win.on('move', function (e) {
        //     console.log('move');
        // });
    </script>
</body>

</html>